const capsula=(()=>{"use strict";let e=[];const r=["C","D","H","S"],t=["A","J","Q","K"],a=document.querySelector("#nuevo"),n=document.querySelector("#pedir"),o=document.querySelector("#parar"),c=document.querySelector("#jugador-cartas"),s=document.querySelector("#pc-cartas"),i=document.querySelector("#puntaje-jugador"),u=document.querySelector("#puntaje-pc");let d=0,p=0,l=0,m=0;const h=()=>(n.disable=!0,o.disable=!0,!1),L=()=>{e=[],d=0,p=0,c.innerHTML="",s.innerHTML="",i.innerHTML="0",u.innerHTML="0";let a=0,n=0;for(a=2;a<=10;a++)for(n=0;n<4;n++)e.push(`${a}${r[n]}`);for(a=0;a<4;a++)for(n=0;n<4;n++)e.push(`${t[a]}${r[n]}`);return e=_.shuffle(e)},g=r=>{if(0!==e.lenght){const t=e.pop();return S(t,r),t}},f=e=>{let r;const t=e.slice(0,-1);return r=isNaN(t)?"A"===t?11:10:parseInt(t)},S=(e,r)=>{const t=document.createElement("img");t.src=`assets/cartas/${e}.png`,t.classList.add("carta"),"jugador"===r?c.append(t):s.append(t)},q=e=>{return confirm(e)&&a.click(),!1},y=()=>{do{if(l=g("pc"),m=f(l),p+=m,u.innerHTML=p,d>21||21===p)break}while(p<=d&&d<=21);setTimeout(()=>{p===d?q("Empate!!! \n¿Quieres empezar otra partida?"):p<d&&d<=21?q("Enhorabuena has ganado\n¿Quieres empezar otra partida?"):p>d&&p<=21?q("Lo siento has perdido\n¿Quieres empezar otra partida?"):d>21?q("Lo siento has perdido\n¿Quieres empezar otra partida?"):p>d&&d<=21&&q("Enhorabuena has ganado\n¿Quieres empezar otra partida?")},1000)};return a.addEventListener("click",()=>{L()}),n.addEventListener("click",()=>{0===e.length&&L(),d<=21&&(l=g("jugador"),m=f(l),d+=m,i.innerHTML=d,d>21?(h(),y()):21===d&&(h(),y()))}),o.addEventListener("click",()=>{h(),y()}),{}})();
